"use strict";!function(){function t(t,n,e,o){function a(t){return function(n){n&&n.data&&n.data.to&&"socialcalendarextension"===n.data.to&&n.data["for"]===t&&(console.log(n.data),removeEventListener("message",i,!1),e(n.data.response))}}n||(n=[]),n instanceof Array||(n=[n]),window.postMessage({from:"socialcalendarextension",fb:{fn:t,params:n},callbackFirst:!!o},"*");var i=a(t);window.addEventListener?addEventListener("message",i,!1):attachEvent("onmessage",i)}function n(n){t("getLoginStatus",null,i)}function e(n){t("getLoginStatus",null,function(){})}function o(t,n){swal({title:"Post in Facebook",text:"Write what you want to share:",type:"input",showCancelButton:!0,closeOnConfirm:!1,inputValue:t.toText(n)},function(t){return t!==!1&&(""===t?(swal.showInputError("You need to write something!"),!1):void a(t))})}function a(n){t("api",["/me/feed","POST",{message:n,privacy:{value:"SELF"}}],function(t){t&&!t.error?swal({title:"Nice!",text:'You can check your post <a href="https://www.facebook.com/'+t.id+'" target="_blank">clicking here</a>!',type:"success",html:!0}):(console.error("error on posting",t),swal({title:"Something went wrong!",type:"error"}))})}function i(n,e){c().fadeIn(),t("getLoginStatus",null,function(a){c().fadeOut(),"connected"===a.status?o(n||__Event,e||__event):swal({title:"Connect at Facebook",text:"Click in <strong>Ok</strong> to connect with Facebook first",type:"info",showCancelButton:!0,html:!0},function(){t("login",[{scope:"public_profile,email,user_posts"}],i.bind(null,n,e),!0)})})}var c=function(){return $(".socialcalendarextension-loading")};window.checkFacebookLoginState=n,window.checkFacebookLoginStateOnly=e,window.tryPostAtFacebook=i,window.FB=t}();
//# sourceMappingURL=facebook-script.js.map
